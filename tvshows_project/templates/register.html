{% extends 'base.html' %}

{% block title %}Register{% endblock %}

{% block content %}
<h2>Register</h2>

<!-- Display Error Messages -->
{% if messages %}
<div class="container mt-3">
    {% for message in messages %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}
</div>
{% endif %}

<form method="post" id="registerForm">
    {% csrf_token %}
    <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input type="text" class="form-control" id="username" name="username" required>
    </div>
    
    <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input type="password" class="form-control" id="password" name="password" required>
    </div>
    
    <div class="mb-3">
        <label for="password2" class="form-label">Confirm Password</label>
        <input type="password" class="form-control" id="password2" name="password2" required>
    </div>

    <button type="submit" class="btn btn-primary">Register</button>
</form>

<script>
    document.getElementById('registerForm').addEventListener('submit', function(event) {
        // Get the values of the password and confirm password fields
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('password2').value;

        // Check if passwords match
        if (password !== confirmPassword) {
            // Prevent the form from submitting
            event.preventDefault();
            // Display an alert to the user
            alert('Passwords do not match.');
        }
    });
</script>

{% endblock %}
